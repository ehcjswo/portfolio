<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
      #wrapper {
        z-index: 100;
      }
      body {
        /* overflow: hidden; */
        background: linear-gradient(135deg, black, #220033);
        font-family: 'TungstenCompressed';
        text-transform: uppercase;
      }

      .carousel {
        position: relative;
        z-index: 0;
        height: 100vh;
        overflow: hidden;
        pointer-events: none;
        opacity: 0;
      }

      .carousel-item {
        --items: 6;
        --width: clamp(150px, 30vw, 300px);
        --height: clamp(200px, 40vw, 400px);
        --x: calc(var(--active) * 400%);
        --y: calc(var(--active) * 150%);
        --rot: calc(var(--active) * 120deg);
        --opacity: calc(var(--zIndex) / var(--items) * 3 - 1.8);
        overflow: hidden;
        position: absolute;
        z-index: var(--zIndex);
        width: var(--width);
        height: var(--height);
        margin: calc(var(--height) * -0.5) 0 0 calc(var(--width) * -0.5);
        border-radius: 10px;
        top: 50%;
        left: 50%;
        user-select: none;
        transform-origin: 0% 100%;
        box-shadow: 0 10px 50px 10px rgba(0, 0, 0, 0.5);
        background: black;
        pointer-events: all;
        transform: translate(var(--x), var(--y)) rotate(var(--rot));
        transition: transform 0.8s cubic-bezier(0, 0.02, 0, 1);
      }
      .carousel-item .carousel-box {
        position: absolute;
        z-index: 1;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transition: opacity 0.8s cubic-bezier(0, 0.02, 0, 1);
        opacity: var(--opacity);
      }
      .carousel-item .carousel-box:before {
        content: "";
        position: absolute;
        z-index: 1;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 30%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.5));
      }
      .carousel-item .title {
        position: absolute;
        width: 100%;
        display: flex;
        justify-content: space-between;
        padding-right: 40px;
        z-index: 1;
        font-weight: 300;
        color: #fff;
        bottom: 20px;
        left: 20px;
        transition: opacity 0.8s cubic-bezier(0, 0.02, 0, 1);
        font-size: clamp(20px, 3vw, 30px);
        text-shadow: 0 4px 4px rgba(0, 0, 0, 0.1);
      }
      .code,
      .view {
        border: 1px solid #fff;
        padding: 0px 15px;
        transition: all 0.3s;
        font-weight: 300;
        font-size: 3rem;
      }
      .code:hover,
      .view:hover {
        background-color: #fff;
        color: #000;
      }
      .carousel-item .num {
        position: absolute;
        z-index: 1;
        color: #fff;
        top: 10px;
        left: 20px;
        transition: opacity 0.8s cubic-bezier(0, 0.02, 0, 1);
        font-size: clamp(20px, 10vw, 80px);
        font-weight: 500;
      }
      .carousel-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        pointer-events: none;
      }

      .layout {
        position: absolute;
        z-index: 0;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
      }
      .layout:before {
        content: "";
        position: absolute;
        z-index: 1;
        top: 0;
        left: 90px;
        width: 10px;
        height: 100%;
        border: 1px solid #fff;
        border-top: none;
        border-bottom: none;
        opacity: 0.15;
      }
      .layout .box {
        position: absolute;
        bottom: 0;
        left: 30px;
        color: #fff;
        transform-origin: 0% 10%;
        transform: rotate(-90deg);
        font-size: 9px;
        line-height: 1.4;
        text-transform: uppercase;
        opacity: 0.4;
      }

      .logo {
        position: absolute;
        z-index: 2;
        top: 28px;
        right: 28px;
        width: 30px;
        height: 30px;
        background: #fff;
        border-radius: 50%;
        opacity: 0.5;
        display: flex;
        justify-content: center;
        align-items: center;
        pointer-events: all;
        color: black;
        text-decoration: none;
        font-size: 20px;
        overflow: hidden;
        padding-bottom: 0.1em;
      }

      .social {
        position: absolute;
        z-index: 10;
        bottom: 20px;
        right: 25px;
        color: #fff;
        opacity: 0.4;
      }
      .social a {
        display: inline-block;
        margin-left: 3px;
      }
      .social svg {
        --fill: #fff;
        width: 35px;
        height: 35px;
      }

      .cursor {
        position: fixed;
        z-index: 10;
        top: 0;
        left: 0;
        --size: 40px;
        width: var(--size);
        height: var(--size);
        border-radius: 50%;
        border: 1px solid rgba(255, 255, 255, 0.2);
        margin: calc(var(--size) * -0.5) 0 0 calc(var(--size) * -0.5);
        transition: transform 0.85s cubic-bezier(0, 0.02, 0, 1);
        display: none;
        pointer-events: none;
      }
      @media (pointer: fine) {
        .cursor {
          display: block;
        }
      }

      .cursor2 {
        --size: 2px;
        transition-duration: 0.7s;
      }

    </style>
</head>
<body>
<main id="main">
  <div class="loading ef_sub">
    <div id="lines">
      <div class="loadLine">
        <div class="whiteBox1"></div>
        <div class="whiteBox2"></div>
        <div class="blackBox1">
            <div class="boxText1">
                developer.kdh
            </div>
        </div>
        <div class="blackBox2">
            <div class="boxText2">
                developer.kdh
            </div>
        </div>
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1920" height="1920" viewBox="0 0 1920 1920" class="c-line js-svg is-horizontal">
              <g transform="translate(0 420)" class="_line">
                  <line x2="1500" y2="1500" class="_l1"></line> 
                  <line x2="1740" y2="1740" transform="translate(0 -240)" class="_l2"></line> 
                  <line x2="1860" y2="1860" transform="translate(0 -360)" class="_l3"></line> 
                  <line x2="1920" y2="1920" transform="translate(0 -420)" class="_l4"></line> 
                  <line x2="1500" y2="1500" transform="translate(420 -420)" class="_l5"></line> 
                  <line x1="1500" y2="1500" transform="translate(0 -420)" class="_l6"></line>
                  <line x1="1920" y2="1920" transform="translate(0 -420)" class="_l7"></line> 
                  <line x1="1860" y2="1860" transform="translate(60 -360)" class="_l8"></line> 
                  <line x1="1740" y2="1740" transform="translate(180 -240)" class="_l9"></line> 
                  <line x1="1500" y2="1500" transform="translate(420)" class="_l10"></line> 
                  <line x2="1920" transform="translate(0 540)" class="_l11"></line> 
                  <line y2="1920" transform="translate(960 -420)" class="_l12"></line> 
                  <g transform="translate(960 116) rotate(45)" class="._circle">
                      <circle cx="300" cy="300" r="300" class="_c1"></circle>
                  </g> 
              </g>
          </svg> 
      </div> 
  </div>
    <div class="split">developer.kdh</div>
</div>
  <div class="carousel">
    <div class="carousel-item">
      <div class="carousel-box">
        <div class="title">
          <a href="https://github.com/ehcjswo/web2023/blob/main/javascript/search/searchEffect01.html" target="_blank" class="code">code</a>
          <a href="https://ehcjswo.github.io/web2023/javascript/search/searchEffect01.html" target="_blank" class="view">view</a>
        </div>
        <div class="num">search effect</div>
        <img src="images/mockupSearch.jpg" />
      </div>
    </div>
  
    <div class="carousel-item">
      <div class="carousel-box">
        <div class="title">
          <a href="https://github.com/ehcjswo/web2023/blob/main/javascript/mouse/mouseEffect03.html" target="_blank" class="code">code</a>
          <a href="https://ehcjswo.github.io/web2023/javascript/mouse/mouseEffect03.html" target="_blank" class="view">view</a>
        </div>
        <div class="num">mouse effect</div>
        <img src="images/mockupMouse.jpg" />
      </div>
    </div>
  
    <div class="carousel-item">
      <div class="carousel-box">
        <div class="title">
          <a href="https://github.com/ehcjswo/web2023/blob/main/javascript/quiz/quizEffect06.html" target="_blank" class="code">code</a>
          <a href="https://ehcjswo.github.io/web2023/javascript/quiz/quizEffect06.html" target="_blank" class="view">view</a>
        </div>
        <div class="num">quiz effect</div>
        <img src="images/mockupQuiz.jpg"/>
      </div>
    </div>
  
    <div class="carousel-item">
      <div class="carousel-box">
        <div class="title">
          <a href="https://github.com/ehcjswo/web2023/blob/main/javascript/parallax/gsap01.html" target="_blank" class="code">code</a>
          <a href="https://ehcjswo.github.io/web2023/javascript/parallax/gsap01.html" target="_blank" class="view">view</a>
        </div>
        <div class="num">parallax effect</div>
        <img src="images/mockupParallax.jpg" />
      </div>
    </div>
  
    <div class="carousel-item">
      <div class="carousel-box">
        <div class="title">
          <a href="https://github.com/ehcjswo/web2023/blob/main/javascript/slider/sliderEffect07.html" target="_blank" class="code">code</a>
          <a href="https://ehcjswo.github.io/web2023/javascript/slider/sliderEffect07.html" target="_blank" class="view">view</a>
        </div>
        <div class="num">slider effect</div>
        <img src="images/mockupSlider.jpg" />
      </div>
    </div>
  
    <div class="carousel-item">
      <div class="carousel-box">
        <div class="title">
          <a href="https://github.com/ehcjswo/web2023/blob/main/javascript/game/gameEffect01.html" target="_blank" class="code">code</a>
          <a href="https://ehcjswo.github.io/web2023/javascript/game/gameEffect01.html" target="_blank" class="view">view</a>
        </div>
        <div class="num">game effect</div>
        <img src="images/mockupGame.jpg" />
      </div>
    </div>
  </div>
  
  <div class="cursor"></div>
  <div class="cursor cursor2"></div>
</main>
<div class="home">
  <a class="homeClick" href="home.html">HOME</a>
</div>

</body>
<!-- <script src="../script/main.js"></script> -->
<script src="../script/card.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/studio-freightlenis@1bundled/lenis.min.js"></script>
<script>
// split 쪼개기
document.querySelectorAll(".split").forEach((text) => {
    let splitWrap = text.innerText
        .split("")
        .join("</span><span aria-hidden='true'>");
    text.innerHTML = "<span aria-hidden='true'>" + splitWrap + "</span>";
    text.setAttribute("aria-label", text.innerText);
    });

    const load = document.querySelector(".loadLine");
    const l1 = document.querySelector("._l1");
    const l2 = document.querySelector("._l2");
    const l3 = document.querySelector("._l3");
    const l4 = document.querySelector("._l4");
    const l5 = document.querySelector("._l5");
    const l6 = document.querySelector("._l6");
    const l7 = document.querySelector("._l7");
    const l8 = document.querySelector("._l8");
    const l9 = document.querySelector("._l9");
    const l10 = document.querySelector("._l10");
    const l11 = document.querySelector("._l11");
    const l12 = document.querySelector("._l12");
    const circle = document.querySelector("._c1");
    const box1 = document.querySelector(".blackBox1");
    const box2 = document.querySelector(".blackBox2");
    const box3 = document.querySelector(".whiteBox1");
    const box4 = document.querySelector(".whiteBox2");
    // 초기 상태 설정
    gsap.set(load, {opacity: 1})
    gsap.set(l6, {attr: {x2: 1500, y2: 0}}); 
    gsap.set(l7, {attr: {x2: 1920, y2: 0}}); 
    gsap.set(l10, {attr: {x2: 1500, y2: 0 }});
    gsap.set(box3, {x:"-200%"})
    gsap.set(box4, {x:"200%"})

    gsap.set(l1, {attr: {x2: 0, y2: 0}}); 
    gsap.set(l2, {attr: {x2: 0, y2: 0}}); 
    gsap.set(l3, {attr: {x2: 0, y2: 0}}); 
    gsap.set(l4, {attr: {x2: 0, y2: 0}}); 
    gsap.set(l5, {attr: {x2: 0, y2: 0}});
    gsap.set(l8, {attr: {x2: 1860, y2: 0}});
    gsap.set(l9, {attr: {x2: 1740, y2: 0}});
    gsap.set(l11, {attr: {x1:0, x2:0}});
    gsap.set(l12, {attr: {y1:0, y2:0}});
    gsap.set(circle, {autoAlpha:0});
    
    
    // 처음 왔을때 로딩
    let t4 = gsap.timeline();
    t4.set(".carousel", {opacity:1})
    t4.set(".split", {opacity:0, zIndex:11});
    t4.set(box1, {opacity:1, });
    t4.set(box2, {opacity:1});
    t4.set(".home", {zIndex:1});
    t4.set(".boxText1", {autoAlpha:0, y:"40%"});
    t4.set(".boxText2", {autoAlpha:0, y:"-40%"});
    

    // t4.to(".split",0.1, {opacity:0,delay:1,});
    t4.to(".boxText1",1, {autoAlpha:1,y:0, delay:0},"1");
    t4.to(".boxText2",1, {autoAlpha:1,y:0, delay:0},"1");
    // t4.to(".split",0.1, {opacity:1, zIndex:11,delay:0.9},"1");
    // t4.to(".split",0.1, {opacity:0, zIndex:1, delay:0.1},"2");
    t4.to(box1,3, {y:"-200%", ease:"power4.inOut", delay:0.5},"2")
    t4.to(box2,3, {y:"200%", ease:"power4.inOut", delay:0.5},"2")
    // t4.to(".split", {opacity:0 },"2");

    t4.to("#page", {opacity:1 },"2");
    t4.to(".home", {opacity:1,},"2");
    t4.to(".home", {zIndex:11, delay:1.5},"2");
    
    // t4.to(".split span", {
    //     y: 800,
    //     duration: 1,
    //     ease: "back.out(4)",
    //     stagger: {
    //         amount: 0.4,
    //         from: "center",
    //     },
    //     delay:0.4
    // },"2");




    // home 이동
    function homeClick() {
    document.querySelector(".home").addEventListener("click", (e) => {
        e.preventDefault();
        
        gsap.to("#page", {opacity:0,delay:0.5});
        gsap.to(".home", {opacity:0,delay:0.5});
        pageForm();
        setTimeout(() => {
            window.location.href = "home.html";
        }, 3500);
    });
    }
    homeClick();

    // home 이동 애니메이션
    function pageForm(){
        setTimeout(()=>{
            // 선 그리기
            gsap.to(".carousel", {opacity:0})
            gsap.to(l10,  0.15, {attr: {x1: 0, x2: 1500, y1: 1500}});
            gsap.to(l7,  0.15, {attr: {x1: 0, x2: 1920, y1: 1920}, delay:0.08}); 
            gsap.to(l6,  0.15, {attr: {x1: 0, x2:1500, y1:1500},delay:0.16}) 
            
            gsap.to(l1,  0.15, {attr: {x2:1500, y2:1500}, delay:0.26});
            gsap.to(l2, 0.15, {attr: {x2:1740, y2:1740}, delay:0.35});
            gsap.to(l3, 0.15, {attr: {x2:1860, y2:1860}, delay:0.19});
            gsap.to(l4, 0.15, {attr: {x2:1920, y2:1920}, delay:0.65});
            gsap.to(l5, 0.15, {attr: {x2:1500, y2:1500}, delay:0.52});
            gsap.to(l8, 0.15, {attr: {x1:0, x2:1860, y1:1860}, delay:0.5});
            gsap.to(l9, 0.15, {attr: {x1:0, x2:1740, y1:1740}, delay:0.6});
            gsap.to(l11, 0.15, {attr: {x1:0, x2:1920}, delay:0.4});
            gsap.to(l12, 0.15, {attr: {y1:0, y2:1920}, delay:0.51});
            gsap.to(circle, 0.15, {autoAlpha:1, delay:0.65});
            gsap.to(box3, 1, {x: "0%",ease:"expo.out", delay:1.5});
            gsap.to(box4, 1, {x: "0%",ease:"expo.out", delay:1.5});
            
            gsap.to(l1, 1, {delay:1.5, opacity:0.1});
            gsap.to(l2, 1, {delay:1.5, opacity:0.1});
            gsap.to(l3, 1, {delay:1.5, opacity:0.1});
            gsap.to(l4, 1, {delay:1.5, opacity:0.1});
            gsap.to(l5, 1, {delay:1.5, opacity:0.1});
            gsap.to(l6, 1, {delay:1.5, opacity:0.1});
            gsap.to(l7, 1, {delay:1.5, opacity:0.1});
            gsap.to(l8, 1, {delay:1.5, opacity:0.1});
            gsap.to(l9, 1, {delay:1.5, opacity:0.1});
            gsap.to(l10, 1, {delay:1.5, opacity:0.1});
            gsap.to(l11, 1, {delay:1.5, opacity:0.1});
            gsap.to(l12, 1, {delay:1.5, opacity:0.1});
            gsap.to(circle, 1, {delay:1.5, opacity:0.1});
        },1000)
    }

</script>
</html>